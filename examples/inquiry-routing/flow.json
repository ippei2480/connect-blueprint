{
  "Version": "2019-10-30",
  "StartAction": "f0000001-0000-0000-0000-000000000001",
  "Actions": [
    {
      "Identifier": "f0000001-0000-0000-0000-000000000001",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "お電話ありがとうございます。"
      },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000002",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000002",
      "Type": "GetParticipantInput",
      "Parameters": {
        "Text": "お問い合わせの種類をお選びください。請求に関するお問い合わせは1を、技術サポートは2を、契約変更は3を、その他のお問い合わせは4を押してください。",
        "DTMFConfiguration": {
          "InputTimeLimitSeconds": "10",
          "FinishOnKey": "#",
          "InactivityTimeLimitSeconds": "5"
        },
        "InputTimeLimitSeconds": "10"
      },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000011",
        "Conditions": [
          { "NextAction": "f0000001-0000-0000-0000-000000000003", "Condition": { "Operator": "Equals", "Operands": ["1"] } },
          { "NextAction": "f0000001-0000-0000-0000-000000000004", "Condition": { "Operator": "Equals", "Operands": ["2"] } },
          { "NextAction": "f0000001-0000-0000-0000-000000000005", "Condition": { "Operator": "Equals", "Operands": ["3"] } },
          { "NextAction": "f0000001-0000-0000-0000-000000000006", "Condition": { "Operator": "Equals", "Operands": ["4"] } }
        ],
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000011", "ErrorType": "InputTimeLimitExceeded" },
          { "NextAction": "f0000001-0000-0000-0000-000000000011", "ErrorType": "NoMatchingCondition" },
          { "NextAction": "f0000001-0000-0000-0000-000000000011", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000003",
      "Type": "UpdateContactAttributes",
      "Parameters": {
        "Attributes": { "inquiry_type": "billing" }
      },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000007",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000004",
      "Type": "UpdateContactAttributes",
      "Parameters": {
        "Attributes": { "inquiry_type": "technical" }
      },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000008",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000005",
      "Type": "UpdateContactAttributes",
      "Parameters": {
        "Attributes": { "inquiry_type": "contract" }
      },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000009",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000006",
      "Type": "UpdateContactAttributes",
      "Parameters": {
        "Attributes": { "inquiry_type": "other" }
      },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000010",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000007",
      "Type": "UpdateContactTargetQueue",
      "Parameters": { "QueueId": "<YOUR_BILLING_QUEUE_ARN>" },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000013",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000008",
      "Type": "UpdateContactTargetQueue",
      "Parameters": { "QueueId": "<YOUR_TECH_SUPPORT_QUEUE_ARN>" },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000013",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000009",
      "Type": "UpdateContactTargetQueue",
      "Parameters": { "QueueId": "<YOUR_CONTRACT_QUEUE_ARN>" },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000013",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000010",
      "Type": "UpdateContactTargetQueue",
      "Parameters": { "QueueId": "<YOUR_GENERAL_QUEUE_ARN>" },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000013",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000011",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "入力が確認できませんでした。もう一度お選びください。"
      },
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000002",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000012",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "f0000001-0000-0000-0000-000000000013",
      "Type": "TransferContactToQueue",
      "Parameters": {},
      "Transitions": {
        "NextAction": "f0000001-0000-0000-0000-000000000012",
        "Errors": [
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "QueueAtCapacity" },
          { "NextAction": "f0000001-0000-0000-0000-000000000012", "ErrorType": "NoMatchingError" }
        ]
      }
    }
  ],
  "Metadata": {
    "ActionMetadata": {
      "f0000001-0000-0000-0000-000000000001": { "position": { "x": 100, "y": 300 } },
      "f0000001-0000-0000-0000-000000000002": { "position": { "x": 400, "y": 300 } },
      "f0000001-0000-0000-0000-000000000003": { "position": { "x": 700, "y": 0 } },
      "f0000001-0000-0000-0000-000000000004": { "position": { "x": 700, "y": 200 } },
      "f0000001-0000-0000-0000-000000000005": { "position": { "x": 700, "y": 400 } },
      "f0000001-0000-0000-0000-000000000006": { "position": { "x": 700, "y": 600 } },
      "f0000001-0000-0000-0000-000000000007": { "position": { "x": 1000, "y": 0 } },
      "f0000001-0000-0000-0000-000000000008": { "position": { "x": 1000, "y": 200 } },
      "f0000001-0000-0000-0000-000000000009": { "position": { "x": 1000, "y": 400 } },
      "f0000001-0000-0000-0000-000000000010": { "position": { "x": 1000, "y": 600 } },
      "f0000001-0000-0000-0000-000000000011": { "position": { "x": 400, "y": 600 } },
      "f0000001-0000-0000-0000-000000000012": { "position": { "x": 1600, "y": 300 } },
      "f0000001-0000-0000-0000-000000000013": { "position": { "x": 1300, "y": 300 } }
    }
  }
}
